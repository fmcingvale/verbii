\ Unittests for xorshift32
\
\ Copyright (c) 2022 Frank McIngvale, see LICENSE

"unittest" import
"random-xorshift32" import

\ seed is an integer
:V2 *test-xorshift32-case ( seed skip vals -- )
	"SEED:" . seed . CR
	"SKIP:" . skip . CR
	"VALS:" . vals . CR
	seed xorshift32-seed
	\ skip first values
	{ xorshift32 drop } skip repeat
	
	::{ ( i ) 
		vals i get xorshift32 expect==
	} 0 1 vals length for-range
	;

:V2 test-xorshift32
	\ list of:
	\	[ seed skip vals ]
	\
	\ test values generated by reference/xorshift32
	[
		[  272011914 2937 [ 1511284612 3983694262 1860016148 1714530715  861856602  160386240 3807421867 1056075689 334082922  2501432488 ] ]
		[  640321664 2937 [ 2617499234  506617125 3880528430  590528106 3943122613 2045578493 3593132100  694273141 738393282    13247727 ] ]
		[ 4003650979 2937 [ 1543576233 2513741155  778075711  357978988  944513745 1054721946 1140217133 2737144068 1940133958 3845693968 ] ]
		[ 3216424659 2937 [ 1390856612 4052977133 2766326330 1226533352 2699625627 2403250278 2138686239 2757366482 637803410   196553737 ] ]
	]
	
	::{ ( P )
		P unmake drop *test-xorshift32-case 
	} for-each
	;

(	
unittest-init

test-xorshift32

unittest-summary
)
